---
title: OGC SensorThings API-Address the IoT interoperability challenge on the Web
emoji: üåç
tags:
  - sta
  - ogc
  - gis
  - iot
  - interoperability
  - web
link: "https://developers.sensorup.com/docs/"
created: 2020-06-24T16:24:59.000Z
modified: 2021-04-20T20:14:56.000Z
---

## Highlights

- `The OGC SensorThings API is designed to address the IoT interoperability challenge on the Web`.
- The OGC SensorThings API has also become an official ITU-T standard (ITU-T Y.4473), and an official INSPIRE download service good practice.

- [Part 1: Sensing(2016)](http://docs.opengeospatial.org/is/15-078r6/15-078r6.html): Management and reception of observations or measurements made by IoT sensors
- [Part 2: Tasking Core(2019)](http://docs.opengeospatial.org/is/17-079r1/17-079r1.html): Tell the sensor/actuator what to do
- Part 3: Rules Engine: TBD
- Part 4: Tasking Extensions: TBD

## Current Trends

- [Develope SensorThings API 2.0 Part1-Sensing](https://github.com/opengeospatial/sensorthings/blob/master/charter/sensorthings_charter_2021-03.adoc)

  - Propose a new task for the `STA 2.0-Sensing`

    - Incorporate the learned lessons, feature requests, and latest technology trends
    - Pub-sub first, run independently of RESTful request-response pattern
    - OGC Observations and Measurements (O&M) V3.0, which is the underlying data mode of the STA
    - Harmonization of STA and OGC API: follow OGC API pattern
    - Considering OData v4, MQTT v5, Security, and JSON-LD
    - Evaluate each Change Request Proposals (CRPs)

  - Develop new and maintain `discussion papers and best practices` of STA
    - promote the standard and demonstrate the best practices of using STA in a more specific domain
    - Best Practice of the OGC SensorThings API - Methane Emissions
  - `Review draft Engineering Reports` from the OGC innovatin Programme related to STA

## Introduction

OGC SensorThings API provides an open and unified way to interconnect Internet of Things (IoT) devices over the Web as well as interfaces to interact with and analyze their observations. <Highlight color="green">[SensorThings API Part 1: Sensing 1.0](http://docs.opengeospatial.org/is/15-078r6/15-078r6.html) ([PDF version](https://portal.opengeospatial.org/files/15-078r6))</Highlight> was released in 2016 and allowed management and reception of observations or measurements made by IoT sensors. <Highlight color="green">[SensorThings API Part 2: Tasking Core 1.0](http://docs.opengeospatial.org/is/17-079r1/17-079r1.html) ([PDF version](https://portal.opengeospatial.org/files/17-079r1))</Highlight> provides a mechanism to tell the sensor/actuator what to do.

![](https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fwww.mdpi.com%2Fsensors%2Fsensors-16-01395%2Farticle_deploy%2Fhtml%2Fimages%2Fsensors-16-01395-g004.png&f=1&nofb=1)

## Q&A

### Is SensorThings API part of the OGC Sensor Web Enablement standards?

The answer is YES. This might be the #1 question get asked. SensorThings API is part of the OGC Sensor Web Enablement standards. Hey, SensorThings API was called SWE for IoT! For example, SensorThings API's data model is based on OGC/ISO Observations and Measurements (OGC/ISO 19156:2011), so that it can easily interoperate with OGC Sensor Observation Services (SOS). The main difference is that SensorThings is RESTful, uses the efficient JSON encoding, adopts the OASIS OData URL pattern and query options, and supports the ISO MQTT messaging protocol.

### What is the OGC SensorThings API?

The OGC SensorThings API is an OGC standard providing an open and unified framework to interconnect IoT devices, data, and applications over the Web. It is non-proprietary, platform-independent, and perpetual royalty-free. The OGC SensorThings API significantly simplifies and accelerates the development of IoT applications. Application developers can connect to various IoT devices and create innovative applications without worrying the daunting heterogeneous protocols of the different IoT devices. The OGC SensorThings API can also be embedded within various IoT hardware and software platforms, so that the various IoT devices can effortlessly connect with the OGC standard-compliant servers around the world. In summary, the OGC SensorThings API is transforming the numerous disjointed IoT systems into a fully connected platform where complex tasks can be synchronized and performed.

### Why do we develop the OGC SensorThings API?

The Internet of Things (IoT) represents the next evolution of the Internet. It‚Äôs estimated that by 2025, more than 20 billion sensors and actuators will be embedded in real-world objects. All of these objects will be connected to the Internet and generating data at a high velocity continuously. The majority of these objects will be Industrial IoT devices used by industries, not consumers. The IoT represents a significant business opportunity, providing organizations with strategic insights and operational efficiencies in real-time. `But harvesting the benefits of a sensor-rich world presents many data management challenges`. One of the biggest challenges is to enable the `IoT interoperability, i.e., the ability to interoperate heterogeneous IoT systems` so that collectively they become coherent system-of-systems. The OGC SensorThings API is designed to address the IoT interoperability challenge on the Web.

In today's world, most sensors have proprietary software interfaces defined by their manufacturers and used selectively. New APIs are requested and developed on an as needed basis. This situation causes significant burden not only on developers who develop applications with new sensors, but also on providers of gateways, portals or services where observations are used. The OGC SensorThings API defines standardized interfaces for sensors in the Web of Things (WoT) and Internet of Things (IoT), two terms that are frequently used interchangeably. These standardized interfaces will permit the proliferation of new high value services with lower overhead of development and wider reach, and will also lower the cost for sensor and gateway providers.

### Is the OGC SensorThings API a new standard?

Yes and No. The answer can be yes, because it is a new standard designed specifically for IoT devices and applications. The answer can also be no, because the OGC SensorThings API is developed based on the existing [OGC Sensor Web Enablement (SWE) standards](http://www.opengeospatial.org/ogc/markets-technologies/swe). The OGC SWE standards enable all types of sensors and actuators discoverable, accessible and re-usable via the Web. These standards have been widely implemented around the world. SWE standards, however, are as complex as necessary to support tasks such as controlling Earth imaging satellites and archiving national libraries of geological observation data, and thus are, too "heavyweight" for the resource-constrained IoT applications. The OGC SensorThings API can be considered as a lightweight SWE profile suited particularly for IoT applications. As a result, the OGC SensorThings API is a new and efficient API based on the proven and widely implemented SWE standard framework.

### Get all Datastreams

```sh
https://toronto-bike-snapshot.sensorup.com/v1.0/Datastreams?$count=false&$expand=Thing/Locations,ObservedProperty,Observations($top=2000),Observations/FeatureOfInterest&$top=1
```

### Get all observations of Datastreams named with the given name

```sh
http://edmonton-aq-sta.sensorup.com/v1.0/Datastreams?$expand=Thing,Sensor,ObservedProperty,Observations,Observations%2FFeatureOfInterest&$filter=substringof('PM2.5',name)
```

### Get all observations between the specific datetime of Datastreams named with the given name

```sh
http://edmonton-aq-sta.sensorup.com/v1.0/Datastreams?$expand=Thing,Sensor,ObservedProperty,Observations,Observations%2FFeatureOfInterest&$filter=substringof('PM2.5',name) and Observations/phenomenonTime ge 2017-01-01T00:00:00.000Z and Observations/phenomenonTime le 2018-03-01T00:00:00.000Z
```

### Get specific Datastream hourly data

```sh
http://edmonton-aq-sta.sensorup.com/v1.0/Datastreams(124139)/Observations?$aggregate=mean_hour:America/Edmonton
```

## Resources

- [sensorthings](https://github.com/opengeospatial/sensorthings): The official web site of the OGC SensorThings API standard specification.

- [STA EXplorer](https://explorer.sensorup.com/?url=https://toronto-bike-snapshot.sensorup.com/v1.0):Generic visualization dashboard for SensorThings

- [STA Pipes](https://sdk.sensorup.com/app/pipes/#/)

- [STA Share](share.sensorup.com): Create and share snippets of code to showcase SensorThings

- [FROST-GeoJSON-Importer](https://github.com/hylkevds/FROST-GeoJsonImporter): A tool for importing GeoJSON FeatureCollections as Locations & Things into a SensorThings API compatible service.

-[Frost-Client](https://github.com/FraunhoferIOSB/FROST-Client): a Java-based client library for the SensorThingsAPI and aims to simplify development of SensorThings enabled client applications.

- [Geodan SensorThings .NET SDK](https://github.com/gost/sensorthings-net-sdk) : makes it easy to add OGC SensorThings support to your .NET application.

- [Sensor Measurement Lists(SenML)](https://tools.ietf.org/html/rfc8428)

```json
[
{‚Äún‚Äù:‚Äùurn:dev:ops:561133-ElectricMeter-CL17999‚Äù,‚Äùu‚Äù:‚ÄùkWh‚Äù,‚Äùt‚Äù:1.5513408e+09,‚Äùv‚Äù:65141}
]
```

This specification defines a format for representing simple sensor
measurements and device parameters in Sensor Measurement Lists
(SenML). A simple sensor, such as a temperature sensor, could use one of these media types in protocols such as HTTP or the Constrained Application Protocol (CoAP) to transport the measurements of the sensor or to be configured.

- [Efficient Transport of Telemetry Data in IoT with the LwM2M Protocol](https://www.avsystem.com/blog/efficient-transport-measurement-data-iot/)

## Implementating and certified servers are also listed on OGC website:

- [OGC SensorThings API Part 1: Sensing 1.0](https://www.ogc.org/resource/products/byspec/?specid=772)
- [OGC SensorThings API Sensing Core 1.0](https://www.ogc.org/resource/products/byspec/?specid=773)
- [OGC SensorThings API Filtering Extension 1.0](https://www.ogc.org/resource/products/byspec/?specid=774)
- [OGC SensorThings API Create-Update-Delete 1.0](https://www.ogc.org/resource/products/byspec/?specid=775)
- [OGC SensorThings API Part 2: Tasking Core 1.0](https://www.ogc.org/resource/products/byspec/?specid=971)

## How to Cite OGC SensorThings API

Liang, Steve H.L., Chih-Yuan Huang, and Tania Khalafbeigi. "OGC SensorThings API Part I:Sensing" OGC¬Æ Implementation Standard (2016)

## [JSON-LD](https://json-ld.org/)

`JSON-LD is a lightweight Linked Data format.` It is easy for humans to read and write. It is based on the already successful JSON format and provides a way to help JSON data interoperate at Web-scale. JSON-LD is an ideal data format for programming environments, REST Web services, and unstructured databases such as Apache CouchDB and MongoDB.

```json
{
  "@context": "https://json-ld.org/contexts/person.jsonld",
  "@id": "http://dbpedia.org/resource/John_Lennon",
  "name": "John Lennon",
  "born": "1940-10-09",
  "spouse": "http://dbpedia.org/resource/Cynthia_Lennon"
}
```

## MQTT

Currently the STA MQTT extension only allows for:

‚Ä¢ subscriptions on modifications,
‚Ä¢ the creation of new Observations

This means that the MQTT extension does not allow for request/response type data retrieval.

`MQTT5` has formalised the way to do request/response data exchange over MQTT, so this makes it possible to apply the complete SensorThingsAPI rest interface to MQTT as well, instead of just HTTP.

## TODO

- [] Review existing tools
- [] Setup a dev plan
